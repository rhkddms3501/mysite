<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- #{}, ${} 차이 -->
<mapper namespace="board">
	<select id="findAllByPageAndKeyWord" parameterType="map">
	<choose>
		<when test='keyword == null or'>
			
		</when>
		<otherwise>
			
		</otherwise>
	</choose>
		<![CDATA[
		
			select *
			from board
			where title like '%${keword }%'
				or contents like  '%${keword }%'
			limit #{startOffset }, #{size }
		
			select *
			from board
			where keyword
		]]>
	</select>
	
	<select id="getTotalCount" parameterType="string" resultMap="int">
	<choose>
		<when test='_parameter == null or _parameter == ""'>
			<![CDATA[
				select count(*)
				from board
			]]>
		</when>
		<otherwise>
			<![CDATA[
				select count(*)
				from board
				where title like '%${_parameter }%'
					or contents like  '%${_parameter }%'
			]]>
		</otherwise>
	</choose>
			
	</select>

</mapper>